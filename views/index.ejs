<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="css/mdb.min.css" rel="stylesheet">
        <link href="css/mdbx.min.css" rel="stylesheet">

    <!-- Your custom styles (optional) -->
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>

<% include navbar %>


<div class="tabs-wrapper"> 
    <ul class="nav classic-tabs tabs-cyan" role="tablist">
        <li class="nav-item">
            <a class="nav-link waves-light active" data-toggle="tab" href="#panel51" role="tab">Tweets</a>
        </li>
        <li class="nav-item">
            <a class="nav-link waves-light" data-toggle="tab" href="#panel52" role="tab">Charts</a>
        </li>
        <li class="nav-item">
            <a class="nav-link waves-light" data-toggle="tab" href="#panel53" role="tab">Analysis</a>
        </li>
        
    </ul>
</div>

<!-- Tab panels -->
<div class="tab-content card">

    <!--Panel 1-->
    <div class="tab-pane fade in show active" id="panel51" role="tabpanel">
         <div class="container main-page">
      <fieldset>
    
 </fieldset>
 <% if(tweets !== null){ %>
 <h1 class="keyword">Displaying <%= tweets.length %> tweets with keyword "<%= keyword %>"</h1>
            <div class="row">

 <% for (var i = 0; i <= tweets.length; i++) { %>

                <!--Grid column-->
                <div class="col-md-4 mb-4">

                    <!--Card-->
                    <div class="card testimonial-card">

                        <!--Bacground color-->
                        <div class="card-up color-block aqua-gradient z-depth-2">
                        </div>

                        <!--Avatar-->
                        <div class="avatar mx-auto white">
                            <img src="<%= twitterUserURL[i] %>" class="rounded-circle">
                        </div>

                        <div class="card-body">
                            <!--Name-->
                            <h4 class="card-title"><%= twitterUser[i] %></h4>
                            <hr>
                            <!--Quotation-->
                            <p><i class="fa fa-quote-left"></i> <%= tweets[i] %></p>
                            <!--EMOTOTION SCORE-->
                             <% if(twitterSentimentScore[i]<0){ %>
                                <div class="card pink lighten-2 text-center z-depth-2">
                                    <% } else{ %> 
                                 <div class="card info-color text-center z-depth-2">
                                    <% } %>
                                    <div class="card-body">
                                         <p class="white-text mb-0"><%= twitterSentimentScore[i] %></p>
                                             
       

                                     </div>
                                </div>
                        </div>

                    </div>
                    <!--/.Card-->

                </div>
                <!--Grid column-->

                

               <% } %>
            </div>

        <p id="positive" style="display:none"><%= sortedEmotions.positiveEmotions  %></p>
                                             <p id="negative" style="display:none"><%= sortedEmotions.negativeEmotions  %></p>
                                             <p id="neutral" style="display:none"><%= sortedEmotions.neutralEmotions  %></p>
        <% } %>

     
    </div>


    </div>
    <!--/.Panel 1-->
 
    <!--Panel 2-->
    <div class="tab-pane fade" id="panel52" role="tabpanel">

         <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var positive = parseInt(document.getElementById("positive").innerHTML);
        var negative = parseInt(document.getElementById("negative").innerHTML);
        var neutral =  parseInt(document.getElementById("neutral").innerHTML);

        console.log(positive);
                console.log(negative);
        console.log(neutral);


        var data = google.visualization.arrayToDataTable([
          ['Effort', 'Amount given'],
          ['Positive',positive],
          ['Negative',negative],
          ['Neutral',neutral]
        ]);

        var options = {
          pieHole: 0.5,
           width:900,
          height:500,
          pieSliceTextStyle: {
            color: 'black',
          },
        };

        var chart = new google.visualization.PieChart(document.getElementById('donut_single'));
        chart.draw(data, options);
      }
    </script>
  
    <div id="donut_single" style="width: 900px; height: 500px;"></div>


    </div>
    <!--/.Panel 2-->

    <!--Panel 3-->
    <div class="tab-pane fade" id="panel53" role="tabpanel">
<div class= "row">

  <div class="col-md-6" id="positiveTweets" >
          <h3 class="display-3 text-center">Positive Tweets</h3>

    <div class="row">
      <% if(tweets !== null){ %>
 <% for (var i = 0; i <= tweets.length; i++) { %>
<%if (twitterSentimentScore[i]>0) { %>
                <!--Grid column-->
                <div class="col-md-6 mb-12">
                    <!--Card-->
                    <div class="card testimonial-card">
                        <!--Bacground color-->
                        <div class="card-up color-block aqua-gradient z-depth-2">
                        </div>

                        <!--Avatar-->
                        <div class="avatar mx-auto white">
                            <img src="<%= twitterUserURL[i] %>" class="rounded-circle">
                        </div>

                        <div class="card-body">
                            <!--Name-->
                            <h4 class="card-title"><%= twitterUser[i] %></h4>
                            <hr>
                            <!--Quotation-->
                            <p><i class="fa fa-quote-left"></i> <%= tweets[i] %></p>
                            <!--EMOTOTION SCORE-->
                             <% if(twitterSentimentScore[i]<0){ %>
                                <div class="card pink lighten-2 text-center z-depth-2">
                                    <% } else{ %> 
                                 <div class="card info-color text-center z-depth-2">
                                    <% } %>
                                    <div class="card-body">
                                         <p class="white-text mb-0"><%= twitterSentimentScore[i] %></p>                                  
                                     </div>
                                </div>
                        </div>
                    </div>
                    <!--/.Card-->
                </div>
                <!--Grid column-->
               <% } %>
               <% } %>
                              <% } %>

            </div>
          </div>
  <div class="col-md-6" id="negativeTweets" >
                <h3 class="display-3 text-center">Negative Tweets</h3>

    <div class="row">
            <% if(tweets !== null){ %>
 <% for (var i = 0; i <= tweets.length; i++) { %>
<%if (twitterSentimentScore[i]<0) { %>

                <!--Grid column-->
                <div class="col-md-6 mb-12">

                    <!--Card-->
                    <div class="card testimonial-card">

                        <!--Bacground color-->
                        <div class="card-up color-block aqua-gradient z-depth-2">
                        </div>

                        <!--Avatar-->
                        <div class="avatar mx-auto white">
                            <img src="<%= twitterUserURL[i] %>" class="rounded-circle">
                        </div>

                        <div class="card-body">
                            <!--Name-->
                            <h4 class="card-title"><%= twitterUser[i] %></h4>
                            <hr>
                            <!--Quotation-->
                            <p><i class="fa fa-quote-left"></i> <%= tweets[i] %></p>
                            <!--EMOTOTION SCORE-->
                             <% if(twitterSentimentScore[i]<0){ %>
                                <div class="card pink lighten-2 text-center z-depth-2">
                                    <% } else{ %> 
                                 <div class="card info-color text-center z-depth-2">
                                    <% } %>
                                    <div class="card-body">
                                         <p class="white-text mb-0"><%= twitterSentimentScore[i] %></p>
                                             
       

                                     </div>
                                </div>
                        </div>

                    </div>
                    <!--/.Card-->

                </div>
                <!--Grid column-->
               <% } %>  <% } %> <% } %>
             </div>
          </div>





 </div>
    </div>
    <!--/.Panel 3-->

    <!--Panel 4-->
    <div class="tab-pane fade" id="panel54" role="tabpanel">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil odit magnam minima, soluta doloribus reiciendis molestiae placeat unde eos molestias. Quisquam aperiam, pariatur. Tempora, placeat ratione porro voluptate odit minima.</p>

    </div>
    <!--/.Panel 4-->

</div>

   

<% include footer %>


<!-- SCRIPTS -->
    <!-- JQuery -->
    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="js/mdb.min.js"></script>




  </body>
</html>
